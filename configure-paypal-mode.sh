#!/bin/bash

echo "ğŸ”§ CONFIGURATION PAYPAL_MODE SUR RENDER"
echo "======================================="
echo ""
echo "âŒ PROBLÃˆME IDENTIFIÃ‰:"
echo "Le backend utilise l'API PayPal PRODUCTION avec des credentials SANDBOX"
echo ""
echo "Les credentials sandbox ne fonctionnent qu'avec l'API sandbox."
echo ""
echo "âœ… SOLUTION:"
echo "Ajouter la variable PAYPAL_MODE=sandbox sur Render"
echo ""
echo "ğŸ“‹ Ã‰TAPES:"
echo ""
echo "1ï¸âƒ£ Allez sur https://dashboard.render.com"
echo ""
echo "2ï¸âƒ£ SÃ©lectionnez 'gj-camp-website-1' (backend)"
echo ""
echo "3ï¸âƒ£ Cliquez sur 'Environment'"
echo ""
echo "4ï¸âƒ£ Cliquez 'Add Environment Variable'"
echo ""
echo "5ï¸âƒ£ Ajoutez:"
echo "   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "   â”‚ Nom: PAYPAL_MODE    â”‚"
echo "   â”‚ Valeur: sandbox     â”‚"
echo "   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "6ï¸âƒ£ Cliquez 'Save Changes'"
echo ""
echo "7ï¸âƒ£ Render va redÃ©marrer automatiquement (2 minutes)"
echo ""
echo "â³ Attendez que le status passe Ã  'Live'"
echo ""
echo "âœ… VÃ‰RIFICATION:"
echo ""
echo "AprÃ¨s le redÃ©marrage, testez:"
echo ""
echo "curl -s https://gj-camp-website-1.onrender.com/api/test/paypal-config | jq '.'"
echo ""
echo "Vous devriez voir:"
echo "  \"baseURL\": \"https://api-m.sandbox.paypal.com\""
echo ""
echo "Puis testez le paiement sur le site !"
echo ""
echo "ğŸ“ RÃ‰SUMÃ‰ DES VARIABLES PAYPAL NÃ‰CESSAIRES:"
echo ""
echo "Variable              | Valeur"
echo "----------------------|----------------------------------------"
echo "PAYPAL_CLIENT_ID      | AdT-LwZtwJCWWY-mQxdypz0Ael6KiDY4Puw..."
echo "PAYPAL_CLIENT_SECRET  | EBGL8OQ0k2EvtVS1CVXvuJ99Lv42EN61bSk..."
echo "PAYPAL_MODE          | sandbox"
echo ""
echo "ğŸ’¡ NOTE:"
echo "Quand vous passerez en production avec de vrais paiements,"
echo "vous devrez:"
echo "  1. CrÃ©er une app PayPal en mode LIVE"
echo "  2. Obtenir les nouveaux CLIENT_ID et CLIENT_SECRET"
echo "  3. Changer PAYPAL_MODE=live"
echo ""
